
// Dados de cidades para autocomplete
const cidades = {

    "cidades": [
        {
            "nome": "Tóquio",
            "uf": null
        },
        {
            "nome": "Delhi",
            "uf": null
        },
        {
            "nome": "Xangai",
            "uf": null
        },
        {
            "nome": "São Paulo",
            "uf": "SP"
        },
        {
            "nome": "Cidade do México",
            "uf": null
        },
        {
            "nome": "Cairo",
            "uf": null
        },
        {
            "nome": "Mumbai",
            "uf": null
        },
        {
            "nome": "Pequim",
            "uf": null
        },
        {
            "nome": "Daca",
            "uf": null
        },
        {
            "nome": "Osaka",
            "uf": null
        },
        {
            "nome": "Nova Iorque",
            "uf": null
        },
        {
            "nome": "Karachi",
            "uf": null
        },
        {
            "nome": "Buenos Aires",
            "uf": null
        },
        {
            "nome": "Calcutá",
            "uf": null
        },
        {
            "nome": "Manila",
            "uf": null
        },
        {
            "nome": "Lagos",
            "uf": null
        },
        {
            "nome": "Rio de Janeiro",
            "uf": "RJ"
        },
        {
            "nome": "Moscou",
            "uf": null
        },
        {
            "nome": "Istambul",
            "uf": null
        },
        {
            "nome": "Paris",
            "uf": null
        },
        {
            "nome": "Londres",
            "uf": null
        },
        {
            "nome": "Lima",
            "uf": null
        },
        {
            "nome": "Banguecoque",
            "uf": null
        },
        {
            "nome": "Bogotá",
            "uf": null
        },
        {
            "nome": "Lahore",
            "uf": null
        },
        {
            "nome": "Chicago",
            "uf": null
        },
        {
            "nome": "Chengdu",
            "uf": null
        },
        {
            "nome": "Cantão",
            "uf": null
        },
        {
            "nome": "Teerã",
            "uf": null
        },
        {
            "nome": "Kinshasa",
            "uf": null
        },
        {
            "nome": "Shenzhen",
            "uf": null
        },
        {
            "nome": "Lima",
            "uf": null
        },
        {
            "nome": "Bangalore",
            "uf": null
        },
        {
            "nome": "Londres",
            "uf": null
        },
        {
            "nome": "Lagos",
            "uf": null
        },
        {
            "nome": "Seul",
            "uf": null
        },
        {
            "nome": "Tianjin",
            "uf": null
        },
        {
            "nome": "Lahore",
            "uf": null
        },
        {
            "nome": "Rio de Janeiro",
            "uf": "RJ"
        },
        {
            "nome": "Jakarta",
            "uf": null
        },
        {
            "nome": "Kinshasa",
            "uf": null
        },
        {
            "nome": "Xiamen",
            "uf": null
        },
        {
            "nome": "Banguecoque",
            "uf": null
        },
        {
            "nome": "Nanjing",
            "uf": null
        },
        {
            "nome": "Shenzhen",
            "uf": null
        },
        {
            "nome": "Kolkata",
            "uf": null
        },
        {
            "nome": "Taipei",
            "uf": null
        },
        {
            "nome": "Chennai",
            "uf": null
        },
        {
            "nome": "Bogotá",
            "uf": null
        },
        {
            "nome": "Bangkok",
            "uf": null
        },
        {
            "nome": "Lima",
            "uf": null
        },
        {
            "nome": "Hyderabad",
            "uf": null
        },
        {
            "nome": "Cairo",
            "uf": null
        },
        {
            "nome": "Seul",
            "uf": null
        },
        {
            "nome": "Hong Kong",
            "uf": null
        },
        {
            "nome": "Bagdá",
            "uf": null
        },
        {
            "nome": "Londres",
            "uf": null
        },
        {
            "nome": "Belo Horizonte",
            "uf": "MG"
        },
        {
            "nome": "Bogotá",
            "uf": null
        },
        {
            "nome": "Tianjin",
            "uf": null
        },
        {
            "nome": "Kuala Lumpur",
            "uf": null
        },
        {
            "nome": "Chennai",
            "uf": null
        },
        {
            "nome": "Cantão",
            "uf": null
        },
        {
            "nome": "Dongguan",
            "uf": null
        },
        {
            "nome": "Nanjing",
            "uf": null
        },
        {
            "nome": "Bagdá",
            "uf": null
        },
        {
            "nome": "Hong Kong",
            "uf": null
        },
        {
            "nome": "Fuzhou",
            "uf": null
        },
        {
            "nome": "Santiago",
            "uf": null
        },
        {
            "nome": "Surate",
            "uf": null
        },
        {
            "nome": "Changsha",
            "uf": null
        },
        {
            "nome": "Bandung",
            "uf": null
        },
        {
            "nome": "Istambul",
            "uf": null
        },
        {
            "nome": "Changzhou",
            "uf": null
        },
        {
            "nome": "Guadalajara",
            "uf": null
        },
        {
            "nome": "Nairobi",
            "uf": null
        },
        {
            "nome": "Bagdá",
            "uf": null
        },
        {
            "nome": "Medellín",
            "uf": null
        },
        {
            "nome": "Faisalabad",
            "uf": null
        },
        {
            "nome": "Foshan",
            "uf": null
        },
        {
            "nome": "Hangzhou",
            "uf": null
        },
        {
            "nome": "Xiamen",
            "uf": null
        },
        {
            "nome": "Alepo",
            "uf": null
        },
        {
            "nome": "Harbin",
            "uf": null
        },
        {
            "nome": "Gaziantep",
            "uf": null
        },
        {
            "nome": "Baku",
            "uf": null
        },
        {
            "nome": "Gize",
            "uf": null
        },
        {
            "nome": "Guayaquil",
            "uf": null
        },
        {
            "nome": "Porto",
            "uf": null
        },
        {
            "nome": "Johannesburgo",
            "uf": null
        },
        {
            "nome": "Cali",
            "uf": null
        },
        {
            "nome": "Abidjan",
            "uf": null
        },
        {
            "nome": "Quito",
            "uf": null
        },
        {
            "nome": "Brasília",
            "uf": "DF"
        }
    ]
}

const inputCidade = document.getElementById('cidadeOrigem');
const inputUF = document.getElementById('ufOrigem');

const inputCidadeReceber = document.getElementById('cidadeDestino');
const inputUFReceber = document.getElementById('ufDestino');


autocomplete(inputCidade, cidades.cidades.map(cidade => cidade.nome));
autocomplete(inputCidadeReceber, cidades.cidades.map(cidade => cidade.nome));



// Função para carregar opções de países
function carregarPaises() {
    fetch('https://restcountries.com/v3.1/all')
        .then(response => response.json())
        .then(data => {
            const paises = data.map(country => country.name.common);
            const ondeEncontrar = document.getElementById('paisOrigem');
            const ondeReceber = document.getElementById('paisDestino');

            // Autocompletar para o campo de origem
            autocomplete(ondeEncontrar, paises);

            // Autocompletar para o campo de destino
            autocomplete(ondeReceber, paises);
        })
        .catch(error => console.error('Erro ao carregar os países:', error));
}

// Função para autocompletar
function autocomplete(input, listaPaises) {
    input.addEventListener('input', function () {
        const valorDigitado = this.value;
        let sugeridos = [];
        if (valorDigitado.length > 0) {
            sugeridos = listaPaises.filter(pais =>
                pais.toLowerCase().includes(valorDigitado.toLowerCase())
            );
        }
        mostrarSugestoes(input, sugeridos);
    });
}


// Função para exibir sugestões
function mostrarSugestoes(input, sugestoes) {
    const autocompleteContainer = input.nextElementSibling;
    autocompleteContainer.innerHTML = '';
    sugestoes.forEach(sugestao => {
        const sugestaoItem = document.createElement('div');
        sugestaoItem.textContent = sugestao;
        sugestaoItem.addEventListener('click', function () {
            input.value = sugestao;
            autocompleteContainer.innerHTML = '';
           
        });
        autocompleteContainer.appendChild(sugestaoItem);
    });
}

window.onload = carregarPaises;